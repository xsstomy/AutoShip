# 变更: 实现库存管理模块

## 为什么
AutoShip 自动发货系统需要为管理员提供库存管理功能，允许管理员批量导入数字商品库存（如卡密、文本信息等），并在用户下单时自动扣减库存。这是后台管理系统的核心功能之一，支持管理员对数字商品库存进行高效管理。

根据 2025-11-12 前端需求拆分，库存管理模块是后台管理的核心功能之一，负责：
- 卡密/文本批量导入：支持管理员批量上传和管理数字商品库存
- 库存扣减：当用户下单时自动从库存中扣除对应商品
- 库存数据管理：通过管理员操作管理库存数据

## 什么发生了变化
- 为后台管理系统添加库存管理模块
- 实现卡密/文本批量导入功能
- 实现库存扣减机制（与订单系统联动）
- 提供管理员界面用于库存数据管理
- 与后端 API 集成，支持库存数据的获取、导入和更新
- 与商品管理模块联动，支持按商品查看和管理库存

## 影响
- 受影响的规格：
  - 新增 `admin-inventory-management` 能力规格
  - 与 `database-model` 规格中的库存数据结构交互
  - 依赖 `admin-auth` 规格的管理员认证功能
  - 与 `order-management` 规格协同工作，实现订单发货自动扣减库存

- 受影响的代码：
  - 前端管理界面组件（React + Vite + Tailwind）
  - 后端管理 API 端点（库存导入、查询、扣减）
  - 数据库操作层（库存表）
  - 订单处理流程（库存扣减逻辑）

- 依赖关系：
  - 依赖 `add-admin-auth` 变更（管理员认证）
  - 依赖 `manage-product-information` 变更（商品信息）
  - 与 `display-order-details` 变更独立，可并行开发
  - 与 `order-management` 变更协同，实现完整订单流程

## 非目标
- 不实现库存预警功能（可在后续迭代中添加）
- 不实现复杂的批量导出功能（后续版本考虑）
- 不实现库存历史记录追踪（后续版本考虑）
- 不实现多仓库管理（后续版本考虑）
